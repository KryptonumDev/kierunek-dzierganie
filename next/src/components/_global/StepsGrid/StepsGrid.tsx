import Markdown from '@/components/ui/markdown';
import Img from '@/components/ui/image';
import styles from './StepsGrid.module.scss';
import type { StepsGridTypes } from './StepsGrid.types';
import Link from 'next/link';

const StepsGrid = ({ heading, paragraph, list }: StepsGridTypes) => {
  return (
    <section className={`sec-wo-margin ${styles['StepsGrid']}`}>
      <header>
        <Markdown.h2>{heading}</Markdown.h2>
        <Markdown className={styles.paragraph}>{paragraph}</Markdown>
      </header>
      <div className={styles.list}>
        {list.map(({ img, heading, paragraph, relatedCourse }, i) => (
          <div
            className={styles.item}
            key={i}
          >
            {relatedCourse && (
              <Link
                href={`${relatedCourse.basis === 'crocheting' ? '/kursy-szydelkowania' : '/kursy-dziergania-na-drutach'}/${relatedCourse.slug}`}
                aria-label={`${heading}`}
              />
            )}
            <div className={styles.img}>
              <div className={styles['img-wrap']}>
                <Img
                  data={img}
                  sizes='(max-width:649px) 100vw, (max-width: 949px) 50vw, 33vw'
                />
              </div>
              {i !== list.length - 1 && <ArrowIcon className={styles.ArrowIcon} />}
            </div>
            <h3>{heading}</h3>
            <Markdown className={styles.paragraph}>{paragraph}</Markdown>
          </div>
        ))}
      </div>
    </section>
  );
};

export default StepsGrid;

const ArrowIcon = ({ ...props }) => (
  <svg
    xmlns='http://www.w3.org/2000/svg'
    width={284}
    height={121}
    viewBox='0 0 284 121'
    fill='none'
    {...props}
  >
    <path
      d='m45.355 116.518-.792.612.792-.612ZM14.07 6.815l.534.845-.534-.845ZM73.478 47.21l.949-.316-.949.316ZM62.781 62.258l-.337.94.337-.94Zm18.614-48.721-.68-.733.68.733Zm45.153 15.455-.999.047.999-.047Zm-25.346 64.952-.309-.951.309.95Zm0-22.179-.688-.726.688.726Zm87.607-42.773-.196-.98.196.98Zm89.062 55.977a1 1 0 1 0 1.876-.693l-1.876.693ZM53.657 116.585a1 1 0 1 0-1.996-.133l1.996.133ZM261.29 76.458a1 1 0 0 0-1.28 1.537l1.28-1.537Zm18.159 9.112a1 1 0 1 0-.335-1.972l.335 1.972Zm3.838-21.053a1 1 0 1 0-1.967.36l1.967-.36Zm-4.498 19.394a1 1 0 1 0 1.553 1.26l-1.553-1.26ZM46.146 115.907C34.92 101.38 18.6 79.459 9.355 58.497 4.73 48.014 1.92 37.868 2.338 29.062 2.752 20.317 6.34 12.884 14.605 7.66l-1.068-1.69C4.659 11.58.781 19.646.34 28.965c-.438 9.257 2.508 19.737 7.185 30.339 9.356 21.212 25.82 43.308 37.038 57.825l1.583-1.223ZM14.606 7.66c6.402-4.046 12.227-5.588 17.484-5.414 5.26.174 10.04 2.07 14.342 5.04 8.64 5.965 15.255 16.195 19.739 25.101l1.786-.9C63.43 22.497 56.631 11.898 47.569 5.64 43.02 2.5 37.877.437 32.156.247c-5.724-.19-11.938 1.5-18.619 5.722l1.068 1.691ZM66.17 32.387c3.372 6.698 5.5 12.568 6.359 15.14l1.897-.632c-.88-2.637-3.043-8.6-6.47-15.407l-1.786.9Zm6.359 15.14c1.255 3.763 1.671 8.38.396 11.42-.618 1.472-1.608 2.527-3.079 3.014-1.507.498-3.675.45-6.728-.645l-.675 1.883c3.284 1.178 5.942 1.351 8.031.66 2.126-.702 3.5-2.245 4.295-4.138 1.549-3.691.977-8.87-.343-12.826l-1.897.633Zm-9.411 13.79c-1.353-.486-2.25-1.537-2.72-3.184-.48-1.686-.493-3.946-.034-6.653.914-5.4 3.645-12.25 7.565-19.043l-1.732-1c-3.99 6.916-6.837 13.994-7.805 19.71-.483 2.85-.513 5.446.084 7.535.607 2.127 1.882 3.769 3.967 4.517l.675-1.883Zm4.81-28.88c3.835-6.644 8.766-13.168 14.147-18.168l-1.361-1.465C75.16 17.965 70.11 24.657 66.198 31.438l1.732 1ZM82.077 14.27c6.651-6.18 17.261-10.72 26.283-9.603 4.471.553 8.539 2.491 11.599 6.305 3.072 3.829 5.201 9.641 5.591 18.068l1.998-.093c-.403-8.703-2.613-14.97-6.029-19.227-3.429-4.273-7.997-6.43-12.914-7.038-9.754-1.208-20.927 3.654-27.89 10.123l1.362 1.465Zm43.473 14.77c.415 8.951-.308 17.645-1.875 25.606l1.962.386c1.597-8.114 2.334-16.968 1.911-26.085l-1.998.093Zm-1.875 25.606c-1.976 10.04-5.288 18.887-9.324 25.605-4.054 6.748-8.759 11.22-13.457 12.743l.617 1.902c5.365-1.74 10.394-6.69 14.554-13.614 4.177-6.953 7.561-16.028 9.572-26.25l-1.962-.386Zm-22.781 38.348c-1.528.495-3.368.514-4.98.009-1.605-.503-2.896-1.493-3.51-2.943-.614-1.447-.641-3.562.714-6.495 1.357-2.94 4.069-6.617 8.772-11.073l-1.375-1.452c-4.803 4.55-7.709 8.43-9.213 11.686-1.507 3.264-1.64 5.988-.74 8.114.899 2.122 2.74 3.44 4.754 4.071 2.006.63 4.27.61 6.195-.015l-.617-1.902Zm.996-20.502c5.817-5.51 13.946-11.29 23.274-16.791l-1.016-1.723c-9.401 5.545-17.668 11.411-23.633 17.062l1.375 1.452ZM125.163 55.7c19.688-11.612 44.537-21.878 63.841-25.727l-.391-1.961c-19.576 3.902-44.635 14.27-64.466 25.965l1.016 1.723Zm63.841-25.727c23.338-4.653 41.3-2.233 55.514 6.912 14.238 9.16 24.887 25.178 33.353 48.084l1.876-.693c-8.535-23.094-19.386-39.577-34.147-49.073-14.787-9.513-33.325-11.909-56.987-7.191l.391 1.961ZM44.564 117.13c1.568 2.03 3.545 3.493 5.378 3.633.978.075 1.92-.235 2.617-1.028.664-.755 1.01-1.84 1.098-3.15l-1.996-.133c-.071 1.07-.34 1.662-.604 1.963-.232.263-.53.387-.963.354-.986-.075-2.503-.992-3.948-2.862l-1.583 1.223ZM260.01 77.995c1.804 1.503 4.905 3.666 8.398 5.32 3.463 1.64 7.478 2.859 11.041 2.255l-.335-1.972c-2.947.5-6.499-.504-9.85-2.09-3.321-1.573-6.281-3.64-7.974-5.05l-1.28 1.537Zm21.31-13.117c.397 2.167.744 5.76.484 9.426-.263 3.698-1.133 7.285-3.015 9.607l1.553 1.26c2.276-2.808 3.185-6.904 3.457-10.725.274-3.856-.089-7.62-.512-9.929l-1.967.36Z'
      fill='#E5D8D4'
    />
  </svg>
);
